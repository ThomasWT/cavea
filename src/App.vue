<template>
  <div id="app">
    <div class="container">
      <svg class="logo" xmlns="http://www.w3.org/2000/svg" width="129" height="33" viewBox="0 0 129 33"><g fill="currentColor" fill-rule="evenodd"><path fill-rule="nonzero" d="M19.576 3.046h-3.184c-7.393 0-13.38 6.027-13.38 13.454 0 7.427 5.987 13.454 13.38 13.454h16.465a1.5 1.5 0 0 1 1.5 1.5v.046a1.5 1.5 0 0 1-1.5 1.5H16.392C7.339 33 0 25.613 0 16.5S7.339 0 16.392 0h5.198a1.5 1.5 0 0 1 1.5 1.5v.046a1.5 1.5 0 0 1-1.5 1.5h-2.014zm-2.51 7.87v.011h-.674c-3.058 0-5.537 2.495-5.537 5.573 0 3.078 2.48 5.573 5.537 5.573h7.313v.012h1.9a1.5 1.5 0 0 1 1.5 1.5v.046a1.5 1.5 0 0 1-1.5 1.5h-4.912v-.012h-4.301c-4.718 0-8.548-3.856-8.548-8.619s3.83-8.619 8.548-8.619h.42c.062-.008.125-.012.189-.012h3.07a1.5 1.5 0 0 1 1.5 1.5v.046a1.5 1.5 0 0 1-1.5 1.5h-3.005zm9.017-3.047h.024a1.5 1.5 0 0 1 1.5 1.5v.046a1.5 1.5 0 0 1-1.5 1.5h-.024a1.5 1.5 0 0 1-1.5-1.5V9.37a1.5 1.5 0 0 1 1.5-1.5zm5.534 14.216h2.521a1.5 1.5 0 0 1 1.5 1.5v.046a1.5 1.5 0 0 1-1.5 1.5h-2.521a1.5 1.5 0 0 1-1.5-1.5v-.046a1.5 1.5 0 0 1 1.5-1.5zm7.258 7.869h.024a1.5 1.5 0 0 1 1.5 1.5v.046a1.5 1.5 0 0 1-1.5 1.5h-.024a1.5 1.5 0 0 1-1.5-1.5v-.046a1.5 1.5 0 0 1 1.5-1.5z"></path><path d="M48.049 23.493c-.912-.922-1.368-2.356-1.368-4.302v-5.839c0-1.946.456-3.384 1.368-4.315.912-.93 2.321-1.388 4.229-1.37h3.036c1.573 0 2.774.33 3.602.99.828.66 1.31 1.691 1.443 3.096.05.355-.017.626-.2.812-.185.187-.453.28-.804.28-.335 0-.59-.09-.765-.267-.176-.178-.289-.444-.34-.8-.083-.761-.342-1.281-.777-1.56-.435-.28-1.155-.42-2.159-.42h-3.036c-.904-.016-1.607.085-2.109.305-.501.22-.857.584-1.066 1.092-.21.507-.314 1.227-.314 2.157v5.839c0 .93.109 1.646.326 2.145.218.499.573.859 1.067 1.079.494.22 1.2.33 2.12.33h3.012c1.004 0 1.724-.14 2.159-.42.435-.278.694-.799.778-1.56.05-.356.163-.622.339-.8.175-.178.43-.267.765-.267.351 0 .62.094.803.28.184.186.251.457.2.812-.133 1.405-.614 2.437-1.442 3.097-.828.66-2.029.99-3.602.99h-3.011c-1.924 0-3.342-.461-4.254-1.384zm31.283.394c0 .406-.225.702-.677.888a1.21 1.21 0 0 1-.502.102c-.402 0-.694-.229-.878-.685l-1.356-3.326h-7.805l-1.305 3.326c-.184.456-.477.685-.878.685a1.15 1.15 0 0 1-.477-.102c-.469-.169-.703-.465-.703-.888 0-.186.033-.355.1-.508l5.974-14.875c.25-.559.644-.838 1.18-.838h.05c.551.034.92.313 1.104.838l6.073 14.875c.067.153.1.322.1.508zm-10.39-5.153h6.124l-3.137-7.692-2.987 7.692zm17.945 5.305l-6.2-14.85a1.628 1.628 0 0 1-.125-.558c0-.356.201-.626.603-.813.2-.101.401-.152.602-.152.401 0 .686.229.853.686L88.117 21.5l5.345-13.15c.184-.456.469-.685.854-.685.184 0 .384.05.602.152.385.187.577.474.577.864 0 .186-.033.355-.1.507l-6.25 14.85c-.267.559-.644.838-1.129.838h-.1c-.435 0-.778-.28-1.03-.838zm23.566-1.015c.184.186.276.448.276.787 0 .338-.092.6-.276.787-.184.186-.443.279-.778.279h-9.01c-.334 0-.594-.093-.778-.28-.184-.185-.276-.448-.276-.786V8.732c0-.338.092-.6.276-.787.184-.186.444-.279.778-.279h9.01c.335 0 .594.093.778.28.184.186.276.448.276.786 0 .339-.092.601-.276.787-.184.186-.443.28-.778.28h-7.956v5.33h4.995c.334 0 .594.093.778.28.184.186.276.448.276.786 0 .339-.092.601-.276.787-.184.186-.444.28-.778.28h-4.995v5.483h7.956c.335 0 .594.093.778.279zm18.371.863c0 .406-.226.702-.677.888a1.21 1.21 0 0 1-.502.102c-.402 0-.695-.229-.879-.685l-1.355-3.326h-7.805l-1.305 3.326c-.184.456-.477.685-.879.685a1.15 1.15 0 0 1-.476-.102c-.469-.169-.703-.465-.703-.888 0-.186.033-.355.1-.508l5.973-14.875c.251-.559.645-.838 1.18-.838h.05c.552.034.92.313 1.104.838l6.074 14.875c.067.153.1.322.1.508zm-10.39-5.153h6.124l-3.137-7.692-2.987 7.692z"></path></g></svg>
      <hr>
      <appFilter v-if="!loading" :filters="platforms" />
      <List v-if="!loading" :list="data" />
    </div>
  </div>
</template>

<script>
  import appFilter from './components/Filter.vue'
  import List from './components/List.vue'
  export default {
    name: 'App',
    components: {
      appFilter,
      List,
    },
    data() {
      return {
        loading: true,
        data: null,
      }
    },
    created() {
      this.$store.subscribe((mutation, state) => {
        switch (mutation.type) {
          case 'SET_DATA':
            this.data = state.data
            this.loading = false;
            break;
        }
      })
    },
    mounted() {
      this.$store.dispatch('getData');
    },
    computed: {
      platforms() {
        return this.$store.getters.getPlatforms(this.$store.state.data)
      }
    }
  }
</script>

<style lang="scss">
  .logo {
    margin-bottom: 10px;
  }
  hr {
    border-color: #8080801c;
  }
  $padding: 25px;
  html {
    background: url('./assets/ffflux.svg') 100% 100% no-repeat;
    background-size: cover;
    background-repeat: no-repeat;
    width: 100%;
    height: 100vh;
  }
  #app {
    font-family: Avenir, Helvetica, Arial, sans-serif;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    text-align: center;
    color: #2c3e50;
    margin-top: 60px;
    .container {
      background: white;
      width: calc(100% - $padding*2);
      max-width: 333px;
      margin: 0 auto;
      border-radius: 13px;
      box-shadow: 0px 0px 20px 0px #00000036;
      padding: $padding;
    }
  }
</style>
